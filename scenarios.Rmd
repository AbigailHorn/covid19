---
title: "Social distancing scenarios"
---

``` {r setup, include=FALSE}
knitr::opts_chunk$set(
  fig.width = 9,
  fig.height = 7,
  echo=FALSE,
  warning=FALSE,
  cache=TRUE,
  message=FALSE)
```

```{r scenarios-evaluated, include=FALSE}

R0_redux_est <- round(ABC.par.stats$`Frac R0 Mar11`[1] , 2)
R0_est <- round(ABC.par.stats$R0[1] , 2)
R0_redux_scenarios <- round(seq(R0_redux_est*100, 100, length.out=7),1)
incr_current_scenarios <- 100*(R0_redux_scenarios - 100*R0_redux_est) / (100*R0_redux_est)
R0_eff_scenarios <- round((R0_redux_scenarios/100)*R0_est,2)
scenario_idx <- seq(1:length(R0_redux_scenarios))-1
scenarios_table <- cbind(scenario_idx, R0_redux_scenarios, incr_current_scenarios, R0_eff_scenarios)
colnames(scenarios_table) <- c("Scenario", "% of orig. R0", "% increase from current", "Effective R0")

```

### Scenarios evaluated

`r length(R0_redux_scenarios)` are illustrated here. Each scenario corresponds to a different amount of contact rate, and can be understood in terms of:

- The *Effective $R0$*: The effective R0 this % decrease corresponds to
- The *% of original $R0$*: % of the original (pre-social-distancing) $R0$ the effective $R0$ this scenario represents
- The *% increase from current*: % increase from current (as of `r Sys.Date()`) level of social distancing / contact rate

```{r, echo=FALSE}

kable(scenarios_table) %>%
  kable_styling(bootstrap_options = "striped", full_width = F)

```

```{r, include=FALSE}

R0_redux_eval = R0_redux_scenarios/100

scenario = 2
intervention_date = "2020-05-16"
ABC.out.mat <- ABC.out.mat.yesR
number.pars.to.use = 500
iter = 20
time.steps=600

sd.redux = R0_redux_eval[1]
traj.2.May1.0 <- model.output.to.plot.SIM(ABC.out.mat, par.vec.length=number.pars.to.use, iter=iter, time.steps=time.steps, vars.to.plot = vars.plus.R, 
                                       init.date.data="2020-03-01", all=TRUE, scenario.selection = scenario,intervention_date=intervention_date,sd.redux=sd.redux)

sd.redux = R0_redux_eval[2]
traj.2.May1.1 <- model.output.to.plot.SIM(ABC.out.mat, par.vec.length=number.pars.to.use, iter=iter, time.steps=time.steps, vars.to.plot = vars.plus.R, 
                                       init.date.data="2020-03-01", all=TRUE, scenario.selection = scenario,intervention_date=intervention_date,sd.redux=sd.redux)

sd.redux = R0_redux_eval[3]
traj.2.May1.2 <- model.output.to.plot.SIM(ABC.out.mat, par.vec.length=number.pars.to.use, iter=iter, time.steps=time.steps, vars.to.plot = vars.plus.R, 
                                       init.date.data="2020-03-01", all=TRUE, scenario.selection = scenario,intervention_date=intervention_date,sd.redux=sd.redux)

sd.redux = R0_redux_eval[4]
traj.2.May1.3 <- model.output.to.plot.SIM(ABC.out.mat, par.vec.length=number.pars.to.use, iter=iter, time.steps=time.steps, vars.to.plot = vars.plus.R, 
                                       init.date.data="2020-03-01", all=TRUE, scenario.selection = scenario,intervention_date=intervention_date,sd.redux=sd.redux)

sd.redux = R0_redux_eval[5]
traj.2.May1.4 <- model.output.to.plot.SIM(ABC.out.mat, par.vec.length=number.pars.to.use, iter=iter, time.steps=time.steps, vars.to.plot = vars.plus.R, 
                                       init.date.data="2020-03-01", all=TRUE, scenario.selection = scenario,intervention_date=intervention_date,sd.redux=sd.redux)

sd.redux = R0_redux_eval[6]
traj.2.May1.5 <- model.output.to.plot.SIM(ABC.out.mat, par.vec.length=number.pars.to.use, iter=iter, time.steps=time.steps, vars.to.plot = vars.plus.R, 
                                       init.date.data="2020-03-01", all=TRUE, scenario.selection = scenario,intervention_date=intervention_date,sd.redux=sd.redux)

sd.redux = R0_redux_eval[7]
traj.2.May1.6 <- model.output.to.plot.SIM(ABC.out.mat, par.vec.length=number.pars.to.use, iter=iter, time.steps=time.steps, vars.to.plot = vars.plus.R, 
                                       init.date.data="2020-03-01", all=TRUE, scenario.selection = scenario,intervention_date=intervention_date,sd.redux=sd.redux)


### PLOT OBJECTS

scenario=2
intervention_date = "2020-05-16"
use.title=TRUE
plot.capacity=TRUE
time.steps.4plot = 400
var.to.plot="Htot"
ymax=15000


sd.redux = R0_redux_eval[1]
traj.CI=traj.2.May1.0
p.H.2.May1.0 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[2]
traj.CI=traj.2.May1.1
p.H.2.May1.1 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[3]
traj.CI=traj.2.May1.2
p.H.2.May1.2 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[4]
traj.CI=traj.2.May1.3
p.H.2.May1.3 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[5]
traj.CI=traj.2.May1.4
p.H.2.May1.4 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[6]
traj.CI=traj.2.May1.5
p.H.2.May1.5 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[7]
traj.CI=traj.2.May1.6
p.H.2.May1.6 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)




##########################
## V

plot.capacity=TRUE
time.steps.4plot = 500
var.to.plot="V"
ymax=4000

sd.redux = R0_redux_eval[1]
traj.CI=traj.2.May1.0
p.V.2.May1.0 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[2]
traj.CI=traj.2.May1.1
p.V.2.May1.1 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[3]
traj.CI=traj.2.May1.2
p.V.2.May1.2 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[4]
traj.CI=traj.2.May1.3
p.V.2.May1.3 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[5]
traj.CI=traj.2.May1.4
p.V.2.May1.4 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[6]
traj.CI=traj.2.May1.5
p.V.2.May1.5 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[7]
traj.CI=traj.2.May1.6
p.V.2.May1.6 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)



##########################
## Q


plot.capacity=TRUE
time.steps.4plot = 500
var.to.plot="Q"
ymax=8000


sd.redux = R0_redux_eval[1]
traj.CI=traj.2.May1.0
p.Q.2.May1.0 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[2]
traj.CI=traj.2.May1.1
p.Q.2.May1.1 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[3]
traj.CI=traj.2.May1.2
p.Q.2.May1.2 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[4]
traj.CI=traj.2.May1.3
p.Q.2.May1.3 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[5]
traj.CI=traj.2.May1.4
p.Q.2.May1.4 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[6]
traj.CI=traj.2.May1.5
p.Q.2.May1.5 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[7]
traj.CI=traj.2.May1.6
p.Q.2.May1.6 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)


##########################
## V

plot.capacity=TRUE
time.steps.4plot = 500
var.to.plot="V"
ymax=4000

sd.redux = R0_redux_eval[1]
traj.CI=traj.2.May1.0
p.V.2.May1.0 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[2]
traj.CI=traj.2.May1.1
p.V.2.May1.1 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[3]
traj.CI=traj.2.May1.2
p.V.2.May1.2 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[4]
traj.CI=traj.2.May1.3
p.V.2.May1.3 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[5]
traj.CI=traj.2.May1.4
p.V.2.May1.4 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[6]
traj.CI=traj.2.May1.5
p.V.2.May1.5 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[7]
traj.CI=traj.2.May1.6
p.V.2.May1.6 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)



##########################
## D


plot.capacity=NULL
time.steps.4plot = 500
var.to.plot="D"
ymax=30000

sd.redux = R0_redux_eval[1]
traj.CI=traj.2.May1.0
p.D.2.May1.0 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[2]
traj.CI=traj.2.May1.1
p.D.2.May1.1 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[3]
traj.CI=traj.2.May1.2
p.D.2.May1.2 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[4]
traj.CI=traj.2.May1.3
p.D.2.May1.3 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[5]
traj.CI=traj.2.May1.4
p.D.2.May1.4 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[6]
traj.CI=traj.2.May1.5
p.D.2.May1.5 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[7]
traj.CI=traj.2.May1.6
p.D.2.May1.6 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)



##########################
## I


plot.capacity=NULL
time.steps.4plot = 500
var.to.plot="I"
ymax=70000

sd.redux = R0_redux_eval[1]
traj.CI=traj.2.May1.0
p.I.2.May1.0 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[2]
traj.CI=traj.2.May1.1
p.I.2.May1.1 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[3]
traj.CI=traj.2.May1.2
p.I.2.May1.2 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[4]
traj.CI=traj.2.May1.3
p.I.2.May1.3 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[5]
traj.CI=traj.2.May1.4
p.I.2.May1.4 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[6]
traj.CI=traj.2.May1.5
p.I.2.May1.5 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[7]
traj.CI=traj.2.May1.6
p.I.2.May1.6 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)



##########################
## Itot


plot.capacity=NULL
time.steps.4plot = 500
var.to.plot="Itot"
ymax=3e6

sd.redux = R0_redux_eval[1]
traj.CI=traj.2.May1.0
p.Itot.2.May1.0 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[2]
traj.CI=traj.2.May1.1
p.Itot.2.May1.1 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[3]
traj.CI=traj.2.May1.2
p.Itot.2.May1.2 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[4]
traj.CI=traj.2.May1.3
p.Itot.2.May1.3 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[5]
traj.CI=traj.2.May1.4
p.Itot.2.May1.4 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)
sd.redux = R0_redux_eval[6]
traj.CI=traj.2.May1.5
p.Itot.2.May1.5 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)

sd.redux = R0_redux_eval[7]
traj.CI=traj.2.May1.6
p.Itot.2.May1.6 <- plot.model.single(traj.CI=traj.CI, data.in=data.in.tmp, init.date.data="2020-03-01", date.offset.4plot=15, 
                                   time.steps.4plot=time.steps.4plot, ymax=ymax, plot.capacity=plot.capacity, var.to.plot=var.to.plot,use.title=use.title,
                                   scenario=scenario, intervention_date=intervention_date, sd.redux=sd.redux)


```


## Increase contact rate on May 16th, 2020 by variable amounts {.tabset}

<br>

### Scenario 0

Equal to:

- The *Effective $R0$*: `r as.numeric(scenarios_table[1,4])`
- *% of original R0*: `r as.numeric(scenarios_table[1,2])`
- *% Increase from current*: `r as.numeric(scenarios_table[1,3])`

```{r}

ggplotly(p.H.2.May1.0)
ggplotly(p.D.2.May1.0)
ggplotly(p.Q.2.May1.0)
ggplotly(p.V.2.May1.0)
ggplotly(p.I.2.May1.0)
ggplotly(p.Itot.2.May1.0)

```

### Scenario 1

Equal to:

- The *Effective $R0$*: `r as.numeric(scenarios_table[2,4])`
- *% of original R0*: `r as.numeric(scenarios_table[2,2])`
- *% Increase from current*: `r as.numeric(scenarios_table[2,3])`

```{r}

ggplotly(p.H.2.May1.1)
ggplotly(p.D.2.May1.1)
ggplotly(p.Q.2.May1.1)
ggplotly(p.V.2.May1.1)
ggplotly(p.I.2.May1.1)
ggplotly(p.Itot.2.May1.1)

```

### Scenario 2

Equal to:

- The *Effective $R0$*: `r as.numeric(scenarios_table[3,4])`
- *% of original R0*: `r as.numeric(scenarios_table[3,2])`
- *% Increase from current*: `r as.numeric(scenarios_table[3,3])`

```{r}

ggplotly(p.H.2.May1.2)
ggplotly(p.D.2.May1.2)
ggplotly(p.Q.2.May1.2)
ggplotly(p.V.2.May1.2)
ggplotly(p.I.2.May1.2)
ggplotly(p.Itot.2.May1.2)

```

### Scenario 3

Equal to:

- The *Effective $R0$*: `r as.numeric(scenarios_table[4,4])`
- *% of original R0*: `r as.numeric(scenarios_table[4,2])`
- *% Increase from current*: `r as.numeric(scenarios_table[4,3])`

```{r}

ggplotly(p.H.2.May1.3)
ggplotly(p.D.2.May1.3)
ggplotly(p.Q.2.May1.3)
ggplotly(p.V.2.May1.3)
ggplotly(p.I.2.May1.3)
ggplotly(p.Itot.2.May1.3)

```

### Scenario 4

Equal to:

- The *Effective $R0$*: `r as.numeric(scenarios_table[5,4])`
- *% of original R0*: `r as.numeric(scenarios_table[5,2])`
- *% Increase from current*: `r as.numeric(scenarios_table[5,3])`

```{r}

ggplotly(p.H.2.May1.4)
ggplotly(p.D.2.May1.4)
ggplotly(p.Q.2.May1.4)
ggplotly(p.V.2.May1.4)
ggplotly(p.I.2.May1.4)
ggplotly(p.Itot.2.May1.4)

```

### Scenario 5

Equal to:

- The *Effective $R0$*: `r as.numeric(scenarios_table[6,4])`
- *% of original R0*: `r as.numeric(scenarios_table[6,2])`
- *% Increase from current*: `r as.numeric(scenarios_table[6,3])`

```{r}

ggplotly(p.H.2.May1.5)
ggplotly(p.D.2.May1.5)
ggplotly(p.Q.2.May1.5)
ggplotly(p.V.2.May1.5)
ggplotly(p.I.2.May1.5)
ggplotly(p.Itot.2.May1.5)

```

### Scenario 6

Equal to:

- The *Effective $R0$*: `r as.numeric(scenarios_table[7,4])`
- *% of original R0*: `r as.numeric(scenarios_table[7,2])`
- *% Increase from current*: `r as.numeric(scenarios_table[7,3])`

```{r}
ggplotly(p.H.2.May1.6)
ggplotly(p.D.2.May1.6)
ggplotly(p.Q.2.May1.6)
ggplotly(p.V.2.May1.6)
ggplotly(p.I.2.May1.6)
ggplotly(p.Itot.2.May1.6)
```
